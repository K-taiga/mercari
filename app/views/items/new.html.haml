= render 'shared/mercari-header'
%main.single-container
  %section.single-container__main
    %h2.item__header 商品の情報を入力
    / railsのバージョンが5.1以上の場合はform_with ↓ を使う
    /  = form_with model: @item do |f|
    = form_for @item do |f|
      .item__upload
        .item__upload__header
          出品画像
          %span.form-require 必須
        %p 最大10枚までアップロードできます
        .item__dropbox
        .item__dropbox__zone
          / imageモデルに紐づくformタグを作成（ブロック引数はimage)
          =f.fields_for :image, Image.new do |image|
            %ul.sell-dropbox-items
            .sell-dropbox-uploader
            / formタグのラベル作成 itemではなくimageのdbに保存するためdoでpostする
            = image.label :image, for: "image" , class: "sell-dropbox-uploader_container" do
              =image.file_field :image ,id:"goods_image" , class: "goods_images hidden"
          %pre.item__upload--visible
            ドラッグアンドドロップ
            またはクリックしてファイルをアップロード
      .item__content
        .form__group
          =f.label :商品名
          %span.form-require 必須
          = f.text_field :name, class: "input__default", placeholder: "商品名（必須 40文字まで)"
        .form__group
          =f.label :商品の説明
          %span.form-require 必須
          = f.text_area :info, class: "textarea__default", placeholder: "商品の説明（必須 1,000文字以内）（色、素材、重さ、定価、注意点など）例）2010年頃に1万円で購入したジャケットです。ライトグレーで傷はありません。あわせやすいのでおすすめです。", rows: "5"
      .item__content
        .item__content__header 商品の詳細
        .item__form__box
          .form__group
            =f.label :カテゴリー
            %span.form-require 必須
            = f.text_field :category, class: "input__default", placeholder: "--"
          .form__group
            =f.label :商品の状態
            %span.form-require 必須
            = f.text_field :sell_status, class: "input__default", placeholder: "--"
      .item__content
        .item__content__header 配送について
        = link_to '?', "https://www.mercari.com/jp/help_center/article/68/",class: "form__question"
        .item__form__box
          .form__group
            %label
              配送料の負担
              %span.form-require 必須
            = f.text_field :delivery_way, class: "input__default", placeholder: "--"
          .form__group
            %label
              発送元の地域
              %span.form-require 必須
            = f.text_field :prefecture, class: "input__default", placeholder: "--"
          .form__group
            %label
              発送までの日数
              %span.form-require 必須
            = f.text_field :delivery_date, class: "input__default", placeholder: "--"
      .item__content.clearfix
        .item__content__header 販売価格(300〜9,999,999)
        = link_to '?', "https://www.mercari.com/jp/help_center/article/64/",class: "form__question"
        .item__form__box__price
          %ul.form__group
            = f.label :価格
            %span.form-require 必須
            .sell-price
              = f.label :¥, class: "sell__price-label"
              = f.text_field :price, maxlength: "7", placeholder: "例)300", class: "sell__price--input"
          %ul.form__group
            %li 販売手数料(10%)
            .l-right#output -
          .form__group
            %label
              販売利益
            .l-right2 -
      .item__content
        %p.sell__btn__box
          = link_to '禁止されている出品', "https://www.mercari.com/jp/help_center/getting_started/prohibited_items/"
          、
          = link_to '行為', "https://www.mercari.com/jp/help_center/getting_started/prohibited_conduct/"
          を必ずご確認ください。
        %p.sell__btn__box
          またブランド品でシリアルナンバー等がある場合はご記載ください。
          = link_to '偽ブランドの販売', "https://www.mercari.com/jp/help_center/getting_started/counterfeit_goods/"
          は犯罪であり処罰される可能性があります。
        %p.sell__btn__box
          また、出品をもちまして
          = link_to '加盟店規約', "https://www.mercari.com/jp/seller_terms/ "
          に同意したことになります。
        .item_content__bottom_btn
          =f.submit :出品する,class: "btn-default btn-red"
        = link_to 'もどる', root_path, class: "btn-default btn-gray"
= render 'shared/login-footer'
